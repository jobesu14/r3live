<launch>
<!-- Launch file for ouster OS0-32 LiDAR -->

    <arg name="lidar_metadata" default="/home/jonathan/datasets/2021-06-30_garage_paudex/192.168.3.10.json" doc="override default OS0 metadata file for replays."/>
    <arg name="bag_path" default="/home/jonathan/datasets/2021-06-30_garage_paudex/Flight_1_filtered.bag" doc="Path to the bag file to play."/>
    <arg name="bag_start_time_s" default="0" doc="Bag start offset in seconds."/>
    <arg name="bag_rate" default="1" doc="Bag rate multiplier."/>

    <param name="/use_sim_time" type="bool" value="true"/>
    
    <node pkg="rosbag" type="play" required="true" name="player" output="screen"
          args="--clock $(arg bag_path) -s $(arg bag_start_time_s) -r $(arg bag_rate)"/>

    <include file="$(find ouster_ros)/ouster.launch">
        <arg name="replay" value="true"/>
        <arg name="metadata" value="$(arg lidar_metadata)"/>
        <arg name="enable_noise_filter" value="true"/>
    </include>

</launch>
